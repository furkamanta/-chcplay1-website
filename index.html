<!DOCTYPE html >
<html data-device="desktop">
<head>
    <meta name="viewport" content="minimal-ui,width=1108">
    <title>Kral Kazino - Giriş</title>
    <link rel="icon" type="image/x-icon" href="img/fav.png">
    <link rel="stylesheet" href="css/reset.css?v=1.3" media="all">
    <link rel="stylesheet" href="css/style.css?v=1.3" media="all">
   
</head>
<body>
<div id="wrapper">
    <div id="codeFormWr">
             <div class="image-container">
            <img src="img/kralkazino555.png" alt="001 Kazino"> </div>
            
      <style>
    .image-container { margin-bottom: 20px;  margin-top:-20px;
    }
    .image-container img { display:block; margin: auto; width: 950px; height: 270px;
    margin-left:100px;
    }
         #codeFormWr {
            top: 35%;
          }
</style>
        <form id="codeFormCont">
            <label for="codeFld" id="codeFldLbl">Fostloto.com</label>
            <input id="codeFld" placeholder="Kodu buraya girin..." />
            <button type="submit" class="hover-lift">Giriş</button>
        </form>


        <form id="codeFormCont2">
            <label for="codeFld2" id="codeFldLbl" data-trw="insCode">Chcplay1  Giriş:</label>
            <input id="codeFld2" class="glow-effect" placeholder="14 haneli kodu girin..." />
            <button type="button" onclick="login2()" class="hover-lift">Giriş</button>
        </form>

        <div class="whatsapp-container">
            <table class="whatsapp-table">
                <tr>
                    <td style="width: 30%;">
                        <a href="https://wa.me/+79585001517?text=Salam,%20Men%20IveriaKazino-da%20balans%20artirmaq%20isteyirem." 
                           target="_blank" class="whatsapp-btn hover-lift">
                            <img src="kralk-wp.png" width="220" height="70" alt="WhatsApp">
                        </a>
                    </td>
                    <td style="width: 70%;">
                        <img src="whatsapp12.png" width="350" height="120" 
                             style="filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5)); transition: all 0.3s ease;" 
                             class="hover-lift" alt="WhatsApp Info">
                    </td>
                </tr>
            </table>
            
            <div class="main-text hover-lift">
                Ödəniş edib qəbzi WhatsApp vasitəsilə bizə göndərin və oyun kodunu aldıqdan sonra yuxarıdakı boş xanaya daxil edin.
            </div>
        </div>

    <noscript>
        <div id="infoMsgWr" class="err" style="display: block; width: 100%; height: 100%; opacity: 1;">
            <div id="infoMsg">
                <div id="infoMsgStrWr">
                    <span id="infoMsgStr">Javascript is not supported or disabled in your web browser.<br /><a href="http://www.enable-javascript.com/">How to enable</a></span>
                </div>
            </div>
        </div>
    </noscript>
</div>
<script>
    function login2() {
        var val = document.getElementById("codeFld2").value;
        val = val.replace(/\s/g, "");
        val = val.replace(/-/g, ""); 

        if (val.length !== 14) {
            alert("Giriş kodu tam olaraq 14 rəqəm uzunluğunda olmalıdır.");
            return; 
        }

        // Şifreyi kaydet
        localStorage.setItem('autoLoginCode', val);
        sessionStorage.setItem('autoLoginCode', val);

        // Direkt yönlendir - loading modal yok
        var encodedCode = btoa(val);
        window.location.href = 'https://fastloto365.com/?_c=' + encodedCode;
    }

    // Popup fonksiyonu artık gerekli değil - kaldırıldı

    // Fastloto365.com sayfasında çalışacak otomatik şifre yazma sistemi
    function initAutoFillSystem() {
        // Eğer fastloto365.com sayfasındaysak ve URL'de kod varsa
        if (window.location.hostname.includes('fastloto365.com')) {
            // URL parametresinden kodu al
            var urlParams = new URLSearchParams(window.location.search);
            var encodedCode = urlParams.get('_c');
            
            if (encodedCode) {
                try {
                    // Base64 decode et
                    var savedCode = atob(encodedCode);
                    
                    // Sayfa yüklendikten sonra otomatik doldur
                    setTimeout(function() {
                        autoFillFastlotoCode(savedCode);
                    }, 2000);
                } catch (e) {
                    console.log('Kod decode edilemedi:', e);
                }
            }
            
            // Alternatif: localStorage'dan da kontrol et (aynı domain içinde)
            var savedCode = localStorage.getItem('autoLoginCode');
            if (savedCode && !encodedCode) {
                localStorage.removeItem('autoLoginCode');
                setTimeout(function() {
                    autoFillFastlotoCode(savedCode);
                }, 2000);
            }
        }
    }

    function autoFillFastlotoCode(code) {
        console.log('Otomatik doldurma başlatılıyor, kod:', code);
        
        // Daha geniş selector listesi
        var possibleSelectors = [
            // Genel input alanları
            'input[type="text"]',
            'input[type="password"]',
            'input[type="number"]',
            'input[type="tel"]',
            
            // Kod ile ilgili alanlar
            'input[name*="code"]',
            'input[id*="code"]',
            'input[class*="code"]',
            'input[placeholder*="kod"]',
            'input[placeholder*="code"]',
            'input[placeholder*="şifre"]',
            'input[placeholder*="password"]',
            
            // Özel sınıflar
            '.code-input',
            '.password-input',
            '.login-input',
            '#codeInput',
            '#loginCode',
            '#password',
            '[data-code]',
            
            // Tüm görünür input alanları
            'input:not([type="hidden"]):not([type="submit"]):not([type="button"]):not([type="checkbox"]):not([type="radio"])'
        ];

        var codeField = null;
        var foundFields = [];
        
        // Tüm olası alanları bul
        for (var i = 0; i < possibleSelectors.length; i++) {
            var fields = document.querySelectorAll(possibleSelectors[i]);
            for (var j = 0; j < fields.length; j++) {
                var field = fields[j];
                // Görünür ve yazılabilir alanları kontrol et
                if (field.offsetWidth > 0 && field.offsetHeight > 0 && !field.disabled && !field.readOnly) {
                    foundFields.push(field);
                    if (!codeField) {
                        codeField = field;
                    }
                }
            }
        }

        console.log('Bulunan input alanları:', foundFields.length);

        if (codeField) {
            console.log('Ana alan bulundu, doldurma başlatılıyor...');
            typeCodeInBackground(codeField, code);
        } else {
            console.log('Hiçbir alan bulunamadı, alternatif yöntemler deneniyor...');
            
            // Alternatif yöntem 1: Sayfa tamamen yüklendikten sonra tekrar dene
            setTimeout(function() {
                console.log('Alternatif yöntem 1: Tekrar deneniyor...');
                var allInputs = document.querySelectorAll('input');
                console.log('Toplam input sayısı:', allInputs.length);
                
                for (var k = 0; k < allInputs.length; k++) {
                    var input = allInputs[k];
                    console.log('Input kontrol ediliyor:', input.type, input.style.display, input.offsetWidth);
                    
                    if (input.type !== 'hidden' && input.type !== 'submit' && input.type !== 'button' && 
                        input.type !== 'checkbox' && input.type !== 'radio') {
                        console.log('Uygun input bulundu, doldurma başlatılıyor...');
                        typeCodeInBackground(input, code);
                        break;
                    }
                }
            }, 3000);
            
            // Alternatif yöntem 2: Daha uzun bekleme
            setTimeout(function() {
                console.log('Alternatif yöntem 2: Uzun bekleme sonrası...');
                tryFillAnyVisibleInput(code);
            }, 5000);
        }
    }
    
    // Herhangi bir görünür input'a yazmaya çalış
    function tryFillAnyVisibleInput(code) {
        var allElements = document.querySelectorAll('*');
        for (var i = 0; i < allElements.length; i++) {
            var element = allElements[i];
            if (element.tagName === 'INPUT' && element.offsetWidth > 0 && element.offsetHeight > 0) {
                console.log('Görünür input bulundu:', element);
                typeCodeInBackground(element, code);
                break;
            }
        }
    }

    function typeCodeInBackground(inputField, code) {
        console.log('Şifre yazılıyor:', code, 'Alan:', inputField);
        
        // Sessiz çalış - loading modal yok
        console.log('Otomatik giriş başlatılıyor...');
        
        setTimeout(function() {
            try {
                // Alanı odakla ve temizle
                inputField.focus();
                inputField.click();
                inputField.value = '';
                
                // Şifreyi karakter karakter yaz (daha güvenilir)
                for (var i = 0; i < code.length; i++) {
                    inputField.value += code[i];
                    
                    // Her karakter için event tetikle
                    var inputEvent = new Event('input', { bubbles: true });
                    inputField.dispatchEvent(inputEvent);
                    
                    var keyEvent = new KeyboardEvent('keyup', { 
                        key: code[i], 
                        bubbles: true 
                    });
                    inputField.dispatchEvent(keyEvent);
                }
                
                // Final değeri ayarla
                inputField.value = code;
                
                // Tüm gerekli event'leri tetikle
                var events = ['focus', 'input', 'change', 'keyup', 'keydown', 'blur'];
                events.forEach(function(eventType) {
                    var event = new Event(eventType, { bubbles: true });
                    inputField.dispatchEvent(event);
                });
                
                console.log('Şifre yazıldı, değer:', inputField.value);
                
                // OK butonunu bul ve tıkla
                setTimeout(function() {
                    findAndClickOKButton();
                }, 500);
                
            } catch (error) {
                console.error('Şifre yazma hatası:', error);
            }
        }, 1000);
    }
    
    function findAndClickOKButton() {
        console.log('OK butonu aranıyor...');
        
        // Daha geniş buton selector listesi
        var buttonSelectors = [
            // Genel butonlar
            'button[type="submit"]',
            'input[type="submit"]',
            'button',
            
            // Metin içeriği ile
            'button:contains("OK")',
            'button:contains("ok")',
            'button:contains("Giriş")',
            'button:contains("Enter")',
            'button:contains("Submit")',
            
            // Sınıf ve ID ile
            '.ok-btn',
            '.submit-btn',
            '.login-btn',
            '.enter-btn',
            '#okBtn',
            '#submitBtn',
            '#loginBtn',
            '#enterBtn',
            
            // Özel durumlar
            'button.ok',
            'button.submit',
            'button.enter',
            '[data-action="submit"]',
            '[data-action="ok"]'
        ];
        
        var buttonFound = false;
        
        // Önce selector ile ara
        for (var i = 0; i < buttonSelectors.length; i++) {
            var buttons = document.querySelectorAll(buttonSelectors[i]);
            for (var j = 0; j < buttons.length; j++) {
                var button = buttons[j];
                if (button.offsetWidth > 0 && button.offsetHeight > 0 && !button.disabled) {
                    console.log('Buton bulundu (selector):', button);
                    button.click();
                    buttonFound = true;
                    break;
                }
            }
            if (buttonFound) break;
        }
        
        // Buton bulunamazsa, tüm butonları kontrol et
        if (!buttonFound) {
            console.log('Selector ile buton bulunamadı, tüm butonlar kontrol ediliyor...');
            var allButtons = document.querySelectorAll('button, input[type="submit"], input[type="button"]');
            
            for (var k = 0; k < allButtons.length; k++) {
                var btn = allButtons[k];
                var btnText = btn.textContent || btn.value || btn.innerHTML || '';
                
                console.log('Buton kontrol ediliyor:', btnText, btn.offsetWidth, btn.offsetHeight);
                
                if (btn.offsetWidth > 0 && btn.offsetHeight > 0 && !btn.disabled) {
                    // OK, Giriş, Enter gibi kelimeler içeren butonları ara
                    if (btnText.toLowerCase().includes('ok') || 
                        btnText.toLowerCase().includes('giriş') || 
                        btnText.toLowerCase().includes('enter') ||
                        btnText.toLowerCase().includes('submit') ||
                        btn.type === 'submit') {
                        
                        console.log('Uygun buton bulundu:', btnText);
                        btn.click();
                        buttonFound = true;
                        break;
                    }
                }
            }
        }
        
        // Hala buton bulunamazsa Enter tuşu gönder
        if (!buttonFound) {
            console.log('Hiçbir buton bulunamadı, Enter tuşu gönderiliyor...');
            var activeElement = document.activeElement;
            if (activeElement) {
                var enterEvent = new KeyboardEvent('keydown', {
                    key: 'Enter',
                    code: 'Enter',
                    keyCode: 13,
                    bubbles: true
                });
                activeElement.dispatchEvent(enterEvent);
            }
        }
        
        // İşlem tamamlandı
        setTimeout(function() {
            console.log('Otomatik giriş işlemi tamamlandı');
        }, 2000);
    }



    // Loading mesajı göster
    function showLoadingMessage(message) {
        var loadingDiv = document.createElement('div');
        loadingDiv.id = 'customLoading';
        loadingDiv.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            z-index: 9999;
            font-family: Arial, sans-serif;
        `;
        loadingDiv.innerHTML = `
            <div style="text-align: center;">
                <div style="border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 0 auto 20px;"></div>
                <div>${message}</div>
            </div>
            <style>
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            </style>
        `;
        document.body.appendChild(loadingDiv);
    }

    // Loading mesajını gizle
    function hideLoadingMessage() {
        var loadingDiv = document.getElementById('customLoading');
        if (loadingDiv) {
            loadingDiv.remove();
        }
    }

    // Sayfa yüklendiğinde sistemleri başlat
    document.addEventListener('DOMContentLoaded', function() {
        // Otomatik doldurma sistemini başlat
        initAutoFillSystem();
        
        var codeField = document.getElementById('codeFld2');
        if (codeField) {
            // Enter tuşuna basıldığında otomatik giriş
            codeField.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    login2();
                }
            });
        }
    });

    // Sayfa tamamen yüklendiğinde de kontrol et
    window.addEventListener('load', function() {
        initAutoFillSystem();
    });

    // Navigation API kontrolü - sadece destekleniyorsa kullan
    if (window.navigation) {
        window.navigation.addEventListener("navigate", (event) => {
            var infoMsg = document.getElementById("infoMsgWr");
            if (infoMsg) {
                infoMsg.style.display = "none";
            }
        });
    }

    // Check1 fonksiyonu tanımlanmamış, kaldırıyoruz
    // var check1 = setInterval(check1, 100);

    function yonlendir(a) {
        document.getElementById("infoMsgWr").style.display = "none";
        document.location.assign(a);
    }
</script>
<script type="text/javascript" src="js/script.js?v=1.3"></script>
</body>
</html>